<!DOCTYPE html>
<html lang="zh" dir="ltr">

<head>
  <meta charset="utf-8">
  <title>漂亮码</title>
  <meta name="viewport" content="width=device-width, minimum-scale=1.0" />

  <link rel="shortcut icon" href="../../assets/icons/users-0.png" type="image/png">

  <link href="https://cdn.bootcdn.net/ajax/libs/twitter-bootstrap/4.4.1/css/bootstrap.min.css" rel="stylesheet">

  <link rel="stylesheet" type="text/css" href="../../assets/win95.css">
  <link rel="stylesheet" type="text/css" href="../../assets/custom.css">


</head>

<body class="bg-cloud">
  <nav class="navbar navbar-expand-lg navbar-light navbar-95 ">
    <a class="navbar-brand" href="index.html">
      <img src="../../assets/icons/users-0.png"> 漂亮码</a>

  </nav>

  <div class="pricing-header px-3 py-3 pt-md-5 pb-md-4 mx-auto text-center">
    <h1 class="display-4">漂亮码</h1>
    <h4 class="display-5">调查问卷</h4>

    <p class="lead">您好！为创造一个良好、舒适的休闲环境，维护市容市貌，提升公众娱乐生活质量，请您配合填写以下内容。 </p>
  </div>

  <!-- Forms -->

  <div class="container pb-4">
    <div class="card mb-4">
      <div class="card-header">
        <h4 class="my-0 font-weight-normal">关于您</h4>
      </div>
      <div class="card-body">
        <form>
          <div class="form-group row">
            <label for="input-name" class="col-sm-2 col-form-label"><img src="../../assets/icons/address_book_user.png"
                class="icon-16-4"> 您的姓名</label>
            <div class="col-sm-10">
              <input type="text" class="form-95" id="input-name">
            </div>
          </div>

          <fieldset class="form-group">
            <div class="row">
              <legend class="col-form-label col-sm-2 pt-0"><img src="../../assets/icons/users-0.png" class="icon-16-4">
                您的性别
              </legend>
              <div class="col-sm-10">
                <div class="form-check">
                  <input class="form-check-input" type="radio" name="gender" id="gender-radio-1" value="male">
                  <label class="form-check-label" for="gender-radio-1">
                    男
                  </label>
                </div>
                <div class="form-check">
                  <input class="form-check-input" type="radio" name="gender" id="gender-radio-2" value="female">
                  <label class="form-check-label" for="gender-radio-2">
                    女
                  </label>
                </div>
                <div class="form-check disabled">
                  <input class="form-check-input" type="radio" name="gender" id="gender-radio-3" value="none" disabled>
                  <label class="form-check-label" for="gender-radio-3">
                    其他
                  </label>
                </div>
              </div>
            </div>
          </fieldset>

          <div class="form-group row">
            <label for="input-age" class="col-sm-2 col-form-label"><img src="../../assets/icons/user_calendar-0.png"
                class="icon-16-4"> 您的年龄</label>
            <div class="col-sm-10">
              <input type="text" class="form-95" id="input-age">
            </div>
          </div>

          <hr class="separator">

          <fieldset class="form-group">
            <div class="row">
              <legend class="col-form-label col-sm-12 pt-0"><img src="../../assets/icons/clock-0.png" class="icon-16-4">
                您的身高体重指数(BMI)是否超出以下区间：18.5 - 23.9？
                <br>
                <small>身高体重指数 BMI = 体重(kg) ÷ 身高的平方(m<sup>2</sup>)</small>
              </legend>
            </div>
            <div class="row">
              <div class="col-sm-12">
                <div class="form-check">
                  <input class="form-check-input" type="radio" name="question-1" id="question-1-1" value="option1">
                  <label class="form-check-label" for="question-1-1">
                    否
                  </label>
                </div>
                <div class="form-check">
                  <input class="form-check-input" type="radio" name="question-1" id="question-1-2" value="option2"
                    checked>
                  <label class="form-check-label" for="question-1-2">
                    是
                  </label>
                </div>
                <div class="form-check disabled">
                  <input class="form-check-input" type="radio" name="question-1" id="question-1-3" value="option3"
                    disabled>
                  <label class="form-check-label" for="question-1-3">
                    我不确定
                  </label>
                </div>
              </div>
            </div>
          </fieldset>

          <fieldset class="form-group">
            <div class="row">
              <legend class="col-form-label col-sm-12 pt-0"><img src="../../assets/icons/doctor_watson.png"
                  class="icon-16-4">
                您是否有明显的罗圈腿、驼背或高低肩？
              </legend>
            </div>
            <div class="row">
              <div class="col-sm-12">
                <div class="form-check">
                  <input class="form-check-input" type="radio" name="question-2" id="question-2-1" value="option1">
                  <label class="form-check-label" for="question-2-1">
                    否
                  </label>
                </div>
                <div class="form-check">
                  <input class="form-check-input" type="radio" name="question-2" id="question-2-2" value="option2"
                    checked>
                  <label class="form-check-label" for="question-2-2">
                    是
                  </label>
                </div>
                <div class="form-check disabled">
                  <input class="form-check-input" type="radio" name="question-2" id="question-2-3" value="option3"
                    disabled>
                  <label class="form-check-label" for="question-2-3">
                    我不确定
                  </label>
                </div>
              </div>
            </div>
          </fieldset>


          <div class="form-group">
            <div class="row">
              <div class="col-sm-12"><img src="../../assets/icons/address_book_user.png" class="icon-16-4">
                您是否有以下症状：
              </div>
            </div>
            <div class="row">
              <div class="col-sm-12">
                <div class="form-check">
                  <input class="form-check-input" type="checkbox" id="question-3-1" checked>
                  <label class="form-check-label" for="question-3-1">
                    皮肤油腻
                  </label>
                </div>
                <div class="form-check">
                  <input class="form-check-input" type="checkbox" id="question-3-2" checked>
                  <label class="form-check-label" for="question-3-2">
                    皮肤干裂
                  </label>
                </div>
                <div class="form-check">
                  <input class="form-check-input" type="checkbox" id="question-3-3" checked>
                  <label class="form-check-label" for="question-3-3">
                    皮肤潮红
                  </label>
                </div>
                <div class="form-check">
                  <input class="form-check-input" type="checkbox" id="question-3-4" checked>
                  <label class="form-check-label" for="question-3-4">
                    毛孔粗大
                  </label>
                </div>
                <div class="form-check">
                  <input class="form-check-input" type="checkbox" id="question-3-5" checked>
                  <label class="form-check-label" for="question-3-5">
                    爆痘
                  </label>
                </div>
              </div>
            </div>
          </div>

          <div class="form-group">
            <div class="row">
              <div class="col-sm-12"><img src="../../assets/icons/eye.png" class="icon-16-4">
                您是否有以下症状：
              </div>
            </div>
            <div class="row">
              <div class="col-sm-12">
                <div class="form-check">
                  <input class="form-check-input" type="checkbox" id="question-4-1" checked>
                  <label class="form-check-label" for="question-4-1">
                    眼角下垂
                  </label>
                </div>
                <div class="form-check">
                  <input class="form-check-input" type="checkbox" id="question-4-2" checked>
                  <label class="form-check-label" for="question-4-2">
                    眼角下垂褶皱
                  </label>
                </div>
                <div class="form-check">
                  <input class="form-check-input" type="checkbox" id="question-4-3" checked>
                  <label class="form-check-label" for="question-4-3">
                    眼袋浮肿
                  </label>
                </div>
                <div class="form-check">
                  <input class="form-check-input" type="checkbox" id="question-4-4" checked>
                  <label class="form-check-label" for="question-4-4">
                    黑眼圈
                  </label>
                </div>

              </div>
            </div>
          </div>

          <fieldset class="form-group">
            <div class="row">
              <legend class="col-form-label col-sm-12 pt-0"><img src="../../assets/icons/two_users.png"
                  class="icon-16-4">
                您是否有明显的五官不对称？
              </legend>
            </div>
            <div class="row">
              <div class="col-sm-12">
                <div class="form-check">
                  <input class="form-check-input" type="radio" name="question-5" id="question-5-1" value="option1">
                  <label class="form-check-label" for="question-5-1">
                    否
                  </label>
                </div>
                <div class="form-check">
                  <input class="form-check-input" type="radio" name="question-5" id="question-5-2" value="option2"
                    checked>
                  <label class="form-check-label" for="question-5-2">
                    是
                  </label>
                </div>
                <div class="form-check disabled">
                  <input class="form-check-input" type="radio" name="question-5" id="question-5-3" value="option3"
                    disabled>
                  <label class="form-check-label" for="question-5-3">
                    我不确定
                  </label>
                </div>
              </div>
            </div>
          </fieldset>

          <fieldset class="form-group">
            <div class="row">
              <legend class="col-form-label col-sm-12 pt-0"><img src="../../assets/icons/accessibility-2.png"
                  class="icon-16-4">
                您是否有肉眼可见的残疾或疤痕？
              </legend>
            </div>
            <div class="row">
              <div class="col-sm-12">
                <div class="form-check">
                  <input class="form-check-input" type="radio" name="question-6" id="question-6-1" value="option1">
                  <label class="form-check-label" for="question-6-1">
                    否
                  </label>
                </div>
                <div class="form-check">
                  <input class="form-check-input" type="radio" name="question-6" id="question-6-2" value="option2"
                    checked>
                  <label class="form-check-label" for="question-6-2">
                    是
                  </label>
                </div>
                <div class="form-check disabled">
                  <input class="form-check-input" type="radio" name="question-6" id="question-6-3" value="option3"
                    disabled>
                  <label class="form-check-label" for="question-6-3">
                    我不确定
                  </label>
                </div>
              </div>
            </div>
          </fieldset>


          <hr class="separator">

        </form>

        <div class="row">
          <div class="col">
            <button type="" class="btn btn-primary" id='submit-button'>确认无误，提交问卷</button>
            <div class="mt-1" id='validation-warning' style="display:none;color: red;">
              请确保所有项目均已正确填写
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script src="https://cdn.bootcdn.net/ajax/libs/jquery/3.4.1/jquery.slim.min.js"></script>
  <script>
    $('#submit-button').click(() => {

      let name = $('#input-name').prop('value');
      let age = $('#input-age').prop('value');
      let gender = 'none';


      if ($('#gender-radio-1').prop('checked')) gender = 'male';
      if ($('#gender-radio-2').prop('checked')) gender = 'female';

      if (gender === 'none' || name === '' || (isNaN(age) || Number(age) < 0)) {
        $('#validation-warning').css('display', 'block');
        return;
      }


      let index = {
        caution: 0
      };

      // caution quesitons 1 - 6
      if ($('#question-1-2').prop('checked')) index.caution += 1;
      if ($('#question-2-2').prop('checked')) index.caution += 1;

      for (let i = 1; i < 5; i++) {
        let id = '#question-3-' + i;
        if ($(id).prop('checked')) index.caution += 1;
        break;
      }

      for (let i = 1; i < 5; i++) {
        let id = '#question-4-' + i;
        if ($(id).prop('checked')) index.caution += 1;
        break;
      }

      if ($('#question-5-2').prop('checked')) index.caution += 1;
      if ($('#question-6-2').prop('checked')) index.caution += 1;

      console.log(index);

      let type = 'good';
      if ((index.caution >= 4)) type = 'bad';
      else if (index.caution >= 1 && index.caution <= 3) type = 'ok';

      console.log(type);
      window.location.href =
        `code.html?name=${name}&gender=${gender}&type=${type}`;

    });
  </script>

</body>

</html>
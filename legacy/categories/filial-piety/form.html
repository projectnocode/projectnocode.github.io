<!DOCTYPE html>
<html lang="zh" dir="ltr">

<head>
  <meta charset="utf-8">
  <title>孝顺码</title>
  <meta name="viewport" content="width=device-width, minimum-scale=1.0" />

  <link rel="shortcut icon" href="../../assets/icons/address_book_home.png" type="image/png">

  <link href="https://cdn.bootcdn.net/ajax/libs/twitter-bootstrap/4.4.1/css/bootstrap.min.css" rel="stylesheet">

  <link rel="stylesheet" type="text/css" href="../../assets/win95.css">
  <link rel="stylesheet" type="text/css" href="../../assets/custom.css">


</head>

<body class="bg-cloud">
  <nav class="navbar navbar-expand-lg navbar-light navbar-95 ">
    <a class="navbar-brand" href="index.html">
      <img src="../../assets/icons/address_book_home.png"> 孝顺码</a>


  </nav>

  <div class="pricing-header px-3 py-3 pt-md-5 pb-md-4 mx-auto text-center">
    <h1 class="display-4">孝顺码</h1>
    <h4 class="display-5">调查问卷</h4>

    <p class="lead">您好！家庭是社会最小的单位，只有家庭幸福，社会才会稳定。为构建和谐社会，促进人民幸福指数，请您配合填写以下内容。</p>
  </div>

  <!-- Forms -->

  <div class="container pb-4">
    <div class="card mb-4">
      <div class="card-header">
        <h4 class="my-0 font-weight-normal">关于您</h4>
      </div>
      <div class="card-body">
        <form>
          <div class="form-group row">
            <label for="input-name" class="col-sm-2 col-form-label"><img src="../../assets/icons/address_book_user.png"
                class="icon-16-4"> 您的姓名</label>
            <div class="col-sm-10">
              <input type="text" class="form-95" id="input-name">
              <div class="invalid-feedback">
                请输入姓名
              </div>
            </div>
          </div>

          <fieldset class="form-group">
            <div class="row">
              <legend class="col-form-label col-sm-2 pt-0"><img src="../../assets/icons/users-0.png" class="icon-16-4">
                您的性别
              </legend>
              <div class="col-sm-10">
                <div class="form-check">
                  <input class="form-check-input" type="radio" name="gender" id="gender-radio-1" value="male">
                  <label class="form-check-label" for="gender-radio-1">
                    男
                  </label>
                </div>
                <div class="form-check">
                  <input class="form-check-input" type="radio" name="gender" id="gender-radio-2" value="female">
                  <label class="form-check-label" for="gender-radio-2">
                    女
                  </label>
                </div>
                <div class="form-check disabled">
                  <input class="form-check-input" type="radio" name="gender" id="gender-radio-3" value="none" disabled>
                  <label class="form-check-label" for="gender-radio-3">
                    其他
                  </label>
                </div>
              </div>
            </div>
          </fieldset>

          <hr class="separator">

          <fieldset class="form-group">
            <div class="row">
              <legend class="col-form-label col-sm-12 pt-0"><img src="../../assets/icons/address_book_home.png"
                  class="icon-16-4">
                过去一年内，您回家探望父母是否低于3次？
              </legend>
            </div>
            <div class="row">
              <div class="col-sm-12">
                <div class="form-check">
                  <input class="form-check-input" type="radio" name="question-1" id="question-1-1" value="option1">
                  <label class="form-check-label" for="question-1-1">
                    否
                  </label>
                </div>
                <div class="form-check">
                  <input class="form-check-input" type="radio" name="question-1" id="question-1-2" value="option2"
                    checked>
                  <label class="form-check-label" for="question-1-2">
                    是
                  </label>
                </div>
                <div class="form-check disabled">
                  <input class="form-check-input" type="radio" name="question-1" id="question-1-3" value="option3"
                    disabled>
                  <label class="form-check-label" for="question-1-3">
                    我不确定
                  </label>
                </div>
              </div>
            </div>
          </fieldset>

          <fieldset class="form-group">
            <div class="row">
              <legend class="col-form-label col-sm-12 pt-0"><img src="../../assets/icons/camera3_vid-2.png"
                  class="icon-16-4">
                过去一年内，您与父母通话或视频通话的频率是否低于两周一次？
              </legend>
            </div>
            <div class="row">
              <div class="col-sm-12">
                <div class="form-check">
                  <input class="form-check-input" type="radio" name="question-2" id="question-2-1" value="option1">
                  <label class="form-check-label" for="question-2-1">
                    否
                  </label>
                </div>
                <div class="form-check">
                  <input class="form-check-input" type="radio" name="question-2" id="question-2-2" value="option2"
                    checked>
                  <label class="form-check-label" for="question-2-2">
                    是
                  </label>
                </div>
                <div class="form-check disabled">
                  <input class="form-check-input" type="radio" name="question-2" id="question-2-3" value="option3"
                    disabled>
                  <label class="form-check-label" for="question-2-3">
                    我不确定
                  </label>
                </div>
              </div>
            </div>
          </fieldset>


          <fieldset class="form-group">
            <div class="row">
              <legend class="col-form-label col-sm-12 pt-0"><img src="../../assets/icons/write_card_phone.png"
                  class="icon-16-4">
                过去一年内，您是否曾故意不回复父母的短信或微信，或不接电话？
              </legend>
            </div>
            <div class="row">
              <div class="col-sm-12">
                <div class="form-check">
                  <input class="form-check-input" type="radio" name="question-3" id="question-3-1" value="option1">
                  <label class="form-check-label" for="question-3-1">
                    否
                  </label>
                </div>
                <div class="form-check">
                  <input class="form-check-input" type="radio" name="question-3" id="question-3-2" value="option2"
                    checked>
                  <label class="form-check-label" for="question-3-2">
                    是
                  </label>
                </div>
                <div class="form-check disabled">
                  <input class="form-check-input" type="radio" name="question-3" id="question-3-3" value="option3"
                    disabled>
                  <label class="form-check-label" for="question-3-3">
                    我不确定
                  </label>
                </div>
              </div>
            </div>
          </fieldset>

          <fieldset class="form-group">
            <div class="row">
              <legend class="col-form-label col-sm-12 pt-0"><img src="../../assets/icons/accessibility_kbd_mouse.png"
                  class="icon-16-4">
                您的工作与生活是否让父母操心、担忧？
              </legend>
            </div>
            <div class="row">
              <div class="col-sm-12">
                <div class="form-check">
                  <input class="form-check-input" type="radio" name="question-4" id="question-4-1" value="option1">
                  <label class="form-check-label" for="question-4-1">
                    否
                  </label>
                </div>
                <div class="form-check">
                  <input class="form-check-input" type="radio" name="question-4" id="question-4-2" value="option2"
                    checked>
                  <label class="form-check-label" for="question-4-2">
                    是
                  </label>
                </div>
                <div class="form-check disabled">
                  <input class="form-check-input" type="radio" name="question-4" id="question-4-3" value="option3"
                    disabled>
                  <label class="form-check-label" for="question-4-3">
                    我不确定
                  </label>
                </div>
              </div>
            </div>
          </fieldset>

          <fieldset class="form-group">
            <div class="row">
              <legend class="col-form-label col-sm-12 pt-0"><img src="../../assets/icons/calendar-0.png"
                  class="icon-16-4">
                您是否曾经忘记过父母的生日？
              </legend>
            </div>
            <div class="row">
              <div class="col-sm-12">
                <div class="form-check">
                  <input class="form-check-input" type="radio" name="question-5" id="question-5-1" value="option1">
                  <label class="form-check-label" for="question-5-1">
                    否
                  </label>
                </div>
                <div class="form-check">
                  <input class="form-check-input" type="radio" name="question-5" id="question-5-2" value="option2"
                    checked>
                  <label class="form-check-label" for="question-5-2">
                    是
                  </label>
                </div>
                <div class="form-check disabled">
                  <input class="form-check-input" type="radio" name="question-5" id="question-5-3" value="option3"
                    disabled>
                  <label class="form-check-label" for="question-5-3">
                    我不确定
                  </label>
                </div>
              </div>
            </div>
          </fieldset>

          <fieldset class="form-group">
            <div class="row">
              <legend class="col-form-label col-sm-12 pt-0"><img src="../../assets/icons/network_television-2.png"
                  class="icon-16-4">
                您是否对父母喜欢的食物、电视节目一无所知？
              </legend>
            </div>
            <div class="row">
              <div class="col-sm-12">
                <div class="form-check">
                  <input class="form-check-input" type="radio" name="question-6" id="question-6-1" value="option1">
                  <label class="form-check-label" for="question-6-1">
                    否
                  </label>
                </div>
                <div class="form-check">
                  <input class="form-check-input" type="radio" name="question-6" id="question-6-2" value="option2"
                    checked>
                  <label class="form-check-label" for="question-6-2">
                    是
                  </label>
                </div>
                <div class="form-check disabled">
                  <input class="form-check-input" type="radio" name="question-6" id="question-6-3" value="option3"
                    disabled>
                  <label class="form-check-label" for="question-6-3">
                    我不确定
                  </label>
                </div>
              </div>
            </div>
          </fieldset>

          <div class="form-group">
            <div class="row">
              <div class="col-sm-12"><img src="../../assets/icons/user_card_view.png" class="icon-16-4"> 您是否超过一年未曾：
              </div>
            </div>
            <div class="row">
              <div class="col-sm-12">
                <div class="form-check">
                  <input class="form-check-input" type="checkbox" id="question-7-1" checked>
                  <label class="form-check-label" for="question-7-1">
                    陪父母谈心
                  </label>
                </div>
                <div class="form-check">
                  <input class="form-check-input" type="checkbox" id="question-7-2" checked>
                  <label class="form-check-label" for="question-7-2">
                    带父母外出旅游或逛街
                  </label>
                </div>
                <div class="form-check">
                  <input class="form-check-input" type="checkbox" id="question-7-3" checked>
                  <label class="form-check-label" for="question-7-3">
                    用心给父母挑选一份礼物
                  </label>
                </div>
                <div class="form-check">
                  <input class="form-check-input" type="checkbox" id="question-7-4" checked>
                  <label class="form-check-label" for="question-7-4">
                    给父母洗脚、捶背、按摩或梳头
                  </label>
                </div>
              </div>
            </div>
          </div>
          <fieldset class="form-group">
            <div class="row">
              <legend class="col-form-label col-sm-12 pt-0"><img src="../../assets/icons/tree-1.png" class="icon-16-4">
                在父母生病时，您是否疏于陪伴照料？
              </legend>
            </div>
            <div class="row">
              <div class="col-sm-12">
                <div class="form-check">
                  <input class="form-check-input" type="radio" name="question-8" id="question-8-1" value="option1">
                  <label class="form-check-label" for="question-8-1">
                    否
                  </label>
                </div>
                <div class="form-check">
                  <input class="form-check-input" type="radio" name="question-8" id="question-8-2" value="option2"
                    checked>
                  <label class="form-check-label" for="question-8-2">
                    是
                  </label>
                </div>
                <div class="form-check disabled">
                  <input class="form-check-input" type="radio" name="question-8" id="question-8-3" value="option3"
                    disabled>
                  <label class="form-check-label" for="question-8-3">
                    我不确定
                  </label>
                </div>
              </div>
            </div>
          </fieldset>
          <hr class="separator">


        </form>

        <div class="row">
          <div class="col">
            <button type="" class="btn btn-primary" id='submit-button'>确认无误，提交问卷</button>
            <div class="mt-1" id='validation-warning' style="display:none;color: red;">
              请确保所有项目均已正确填写
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script src="https://cdn.bootcdn.net/ajax/libs/jquery/3.4.1/jquery.slim.min.js"></script>
  <script>
    $('#submit-button').click(() => {

      let name = $('#input-name').prop('value');

      let gender = 'none';


      if ($('#gender-radio-1').prop('checked')) gender = 'male';
      if ($('#gender-radio-2').prop('checked')) gender = 'female';

      if (gender === 'none' || name === '') {
        $('#validation-warning').css('display', 'block');
        return;
      }



      let index = {
        caution: 0,
        warning: 0
      };

      // caution quesitons 4 - 7
      for (let i = 4; i < 7; i++) {
        let id = '#question-' + i + '-2';
        if ($(id).prop('checked')) index.caution += 1;
      }
      for (let i = 1; i < 5; i++) {
        let id = '#question-7-' + i;
        if ($(id).prop('checked')) index.caution += 1;
      }

      // warning questions 1 - 3 & 8
      for (let i = 1; i < 4; i++) {
        let id = '#question-' + i + '-2';
        if ($(id).prop('checked')) index.warning += 1;
      }
      if ($('#question-8-2').prop('checked')) index.warning += 1;

      console.log(index);

      let type = 'good';
      if ((index.warning >= 1) || (index.warning === 0 && index.caution >= 3)) type = 'bad';
      else if (index.warning === 0 && index.caution >= 1 && index.caution <= 2) type = 'ok';

      console.log(type);
      window.location.href =
        `code.html?name=${name}&gender=${gender}&type=${type}`;

    });
  </script>

</body>

</html>